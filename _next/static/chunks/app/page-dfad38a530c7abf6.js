(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{255:function(e,t,a){Promise.resolve().then(a.bind(a,8421))},8421:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var s=a(7437),r=a(2265),l=e=>{let{id:t,title:a,description:r,mongoId:l,complete:c,deleteTodo:i,completeTodo:n}=e;return(0,s.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[(0,s.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:t+1}),(0,s.jsx)("td",{className:"px-6 py-4 ".concat(c?"line-through":""),children:a}),(0,s.jsx)("td",{className:"px-6 py-4 ".concat(c?"line-through":""),children:r}),(0,s.jsx)("td",{className:"px-6 py-4",children:c?"Completed":"Pending"}),(0,s.jsxs)("td",{className:"px-6 py-4 flex gap-1",children:[(0,s.jsx)("button",{onClick:()=>i(l),className:"py-2 px-4 bg-red-500 text-white",children:"Delete"}),c?"":(0,s.jsx)("button",{onClick:()=>n(l),className:"py-2 px-4 bg-green-500 text-white",children:"Done"})]})]})},c=a(2126),i=a(3580);function n(){let[e,t]=(0,r.useState)({title:"",description:""}),[a,n]=(0,r.useState)([]),o=async()=>{n((await (0,c.Z)("/api")).data.todos)},p=async e=>{let t=await c.Z.delete("/api",{params:{mongoId:e}});i.Am.success(t.data.msg),o()},d=async e=>{let t=await c.Z.put("/api",{},{params:{mongoId:e}});i.Am.success(t.data.msg),o()};(0,r.useEffect)(()=>{o()},[]);let x=e=>{let a=e.target.name,s=e.target.value;t(e=>({...e,[a]:s}))},m=async a=>{a.preventDefault();try{let a=await c.Z.post("/api",e);i.Am.success(a.data.msg),t({title:"",description:""}),await o()}catch(e){i.Am.error("Error with submitting form")}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Ix,{theme:"dark"}),(0,s.jsxs)("form",{onSubmit:m,className:"flex items-start flex-col gap-2 w-[80%] max-w-[600px] mt-24 px-2 mx-auto",children:[(0,s.jsx)("input",{type:"text",name:"title",placeholder:"Enter Title",className:"px-3 py-2 border-2 w-full",value:e.title,onChange:x}),(0,s.jsx)("textarea",{name:"description",placeholder:"Enter Description",className:"px-3 py-2 border-2 w-full",value:e.description,onChange:x}),(0,s.jsx)("button",{type:"submit",className:"bg-green-600 py-3 px-11 text-white",children:"Add Todo"})]}),(0,s.jsx)("div",{className:"relative overflow-x-auto mt-24 w-[60%] mx-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,s.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Id"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Title"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Description"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Status"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),(0,s.jsx)("tbody",{children:a.map((e,t)=>(0,s.jsx)(l,{id:t,title:e.title,description:e.description,complete:e.isCompleted,mongoId:e._id,deleteTodo:p,completeTodo:d},t))})]})})]})}a(4193)}},function(e){e.O(0,[143,571,971,23,744],function(){return e(e.s=255)}),_N_E=e.O()}]);